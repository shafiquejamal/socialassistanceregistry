{% extends 'userena/base_userena.html' %}
{% load i18n %}
{% load url from future %}
{% load humanize %}
{% load widget_tweaks %}
{% load mathfilters %}
{% load get_range %}

{% block content_title %}{% trans 'Update or add household members' %}{% endblock %}
{% block extrahead %}
	<link rel="stylesheet" href="/static/development-bundle/themes/base/jquery.ui.all.css">
    <script src="/static/js/jquery-1.9.1.js"></script>
    <script src="/static/development-bundle/ui/jquery.ui.core.js"></script>
    <script src="/static/development-bundle/ui/jquery.ui.widget.js"></script>
    <script src="/static/development-bundle/ui/jquery.ui.datepicker.js"></script>
    <script>
    $(function() {
        $("input[name$=date_of_birth]").datepicker({ 
        	changeMonth: true, 
        	changeYear: true,
        	yearRange: "-120:+0",
        	dateFormat: "yy-mm-dd",
        });
    });
    </script>
{% endblock %}

{% block content %}
{% include "applicants/applicant_level_info.html" %}

<h2>Household Members</h2>
<form class="package_detail" action="{% url 'applicants:update' pk_masked %}" method="post" {% if form.is_multipart %}enctype="multipart/form-data"{% endif %}>{% csrf_token %}
{{ formset_householdmember.management_form }}
<table class="package_detail">	
	<tr>
		
		<th class="delete">Delete?</th>
	</tr>
	{% for form in formset_householdmember %}
	<tr>
		{% for field in form %}
			<td>
			{{ field.errors|add_class:"span4" }}
			<!-- if the field is a checkbox or a dropdown, then need a different span -->
				{{ field|add_class:"span2" }}
			</td>
		{% endfor %}
	</tr>
	{% endfor %}
</table>
<p>*{{ formset_householdmember.1.disability.label }}</p>
<input class="button" type="submit" value="Save" name="saveonly"/>
<input class="button" type="submit" value="Save and add more" name="saveandaddmore"/>
</form>
{% endblock %}
